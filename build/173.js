"use strict";(globalThis.webpackChunkwoo_product_tabs=globalThis.webpackChunkwoo_product_tabs||[]).push([[173],{451:(e,t,a)=>{a.d(t,{o:()=>c});var s=a(307);a(362),a(666),a(387);const c=(0,s.createContext)(window.wptAppLocalizer)},173:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(307),c=a(387),l=a(845),r=a(418),o=a(451);const n=()=>(0,s.createElement)("div",{className:"shimmer"},(0,s.createElement)("div",{className:"w-full bg-white rounded shadow p-4 space-y-4"},(0,s.createElement)("div",{className:"w-1/3 h-20 bg-gray-200"}),(0,s.createElement)("div",{className:"w-full h-10 bg-gray-200"}),(0,s.createElement)("div",{className:"w-full h-20 bg-gray-200"}),(0,s.createElement)("div",{className:"w-full h-20 bg-gray-200"})));var m=a(354);const u=()=>{const e=(0,s.useContext)(o.o),t=(0,c.v9)((e=>e.settings)),a=(0,c.I0)(),[u,d]=(0,s.useState)(!0),[p,i]=(0,s.useState)(!1),[b,w]=(0,s.useState)([]),__=wp.i18n.__;return(0,s.useEffect)((()=>{(async()=>{let s=t;t.consumer_key&&t.consumer_secret||await fetch(`${e.apiURL}/wpt/v1/settings`).then((e=>e.json())).then((e=>{if(!e.data.consumer_key||!e.data.consumer_secret)throw new Error("error");a((0,l.zQ)(e.data)),s=e.data})).catch((e=>(0,r.uX)("/started"))),await fetch(`${e.apiURL}/wc/v3/products?consumer_key=${s.consumer_key}&consumer_secret=${s.consumer_secret}`).then((e=>{if(200!==e.status)throw new Error(response.status);const t=e.json();w(t)})).catch((e=>i(!0))),d(!1)})()}),[]),(0,s.createElement)("div",{className:"w-full max-w-4xl mx-auto"},(0,s.createElement)("h1",{className:"!text-xl font-semibold py-4"},__("Welcome to Woocommerce product tab ðŸš€","woo-product-tab")),(0,s.createElement)("div",{className:"mt-4"},u?(0,s.createElement)(n,null):p?(0,s.createElement)("div",{className:"relative"},(0,s.createElement)("div",{className:"w-full bg-white rounded shadow p-4 space-y-4"},(0,s.createElement)("h1",{className:"font-semibold"},__("An error occurred","woo-product-tab")),(0,s.createElement)("p",null,"- ",__("Maybe the rest api key you created is not correct, please try upadte Consumer key at","woo-product-tab")," ",(0,s.createElement)(m.OL,{to:"/settings",className:"text-blue-600"},__("Settings","woo-product-tab"))),(0,s.createElement)("p",null,"- ",__("If not, please check your link is https","woo-product-tab")," "))):(0,s.createElement)("div",{className:"relative"},(0,s.createElement)("div",{className:"w-full bg-white rounded shadow p-4 space-y-4"},b.length>0?(0,s.createElement)("div",null,(0,s.createElement)("a",{href:`${e.customizeURL}?url=${b[0].permalink}`,className:"inline-block px-8 py-4 bg-rose-600 hover:bg-rose-500 shadow rounded text-white text-base font-semibold",target:"_blank"},__("Go to Customize setting","woo-product-tab")),(0,s.createElement)("table",{className:"mt-6 w-full text-sm text-left text-gray-500"},(0,s.createElement)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50"},(0,s.createElement)("tr",null,(0,s.createElement)("th",{scope:"col",className:"py-3 px-6"},__("Image","woo-product-tab")),(0,s.createElement)("th",{scope:"col",className:"py-3 px-6"},__("Name","woo-product-tab")),(0,s.createElement)("th",{scope:"col",className:"py-3 px-6"},__("Price","woo-product-tab")),(0,s.createElement)("th",{scope:"col",className:"py-3 px-6 text-center"},__("Action","woo-product-tab")))),(0,s.createElement)("tbody",null,b.map(((t,a)=>(0,s.createElement)("tr",{className:"bg-white border-b"},(0,s.createElement)("td",{className:"py-4 px-6"},(0,s.createElement)("img",{className:"w-20 h-20 object-fill ",src:t.images.length>0?t.images[0].src:""})),(0,s.createElement)("td",{className:"text-blue-500 font-semibold"},t.name),(0,s.createElement)("td",{className:"py-4 px-6",dangerouslySetInnerHTML:{__html:t.price_html}}),(0,s.createElement)("td",{className:"py-4 px-6 w-0"},(0,s.createElement)("a",{href:`${e.customizeURL}?url=${t.permalink}`,target:"_blank",className:"px-4 py-2 rounded bg-blue-500 hover:bg-blue-400 text-white font-semibold"},__("Customize","woo-product-tab"))))))))):(0,s.createElement)("div",{className:"text-xl"},__("Can't find any products","woo-product-tab"))))))}}}]);