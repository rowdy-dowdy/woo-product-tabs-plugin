"use strict";(globalThis.webpackChunkwoo_product_tabs=globalThis.webpackChunkwoo_product_tabs||[]).push([[435],{451:(e,t,a)=>{a.d(t,{o:()=>l});var s=a(307);a(867),a(666),a(387);const l=(0,s.createContext)(window.wptAppLocalizer)},371:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var s=a(307),l=a(387),r=a(845),c=a(451);const n=()=>{const e=(0,s.useContext)(c.o),t=(0,l.v9)((e=>e.settings)),a=(0,l.I0)(),[n,o]=(0,s.useState)(""),[m,u]=(0,s.useState)(""),[i,d]=(0,s.useState)(!1),[b,p]=(0,s.useState)(null),[g,h]=(0,s.useState)(null);return(0,s.useEffect)((()=>{(async()=>{if(t.consumer_key&&t.consumer_secret)return o(t.consumer_key),void u(t.consumer_secret);d(!0),await fetch(`${e.apiURL}/wpt/v1/settings`).then((e=>e.json())).then((e=>{if(!e.data.consumer_key||!e.data.consumer_secret)throw new Error("error");a((0,r.zQ)(e.data)),o(e.data.consumer_key),u(e.data.consumer_secret)})).catch((e=>console.log(e))),d(!1)})()}),[]),(0,s.createElement)("div",{className:"w-full max-w-4xl mx-auto"},(0,s.createElement)("h1",{className:"!text-xl font-semibold py-4"},"Let's get you started ðŸš€"),(0,s.createElement)("div",{className:"mt-4"},(0,s.createElement)("div",{className:"relative"},(0,s.createElement)("div",{className:"w-full bg-white rounded shadow p-4 space-y-4"},(0,s.createElement)("div",{className:"mb-6"},(0,s.createElement)("span",{className:"text-gray-800"},"See the"," ",(0,s.createElement)("a",{href:"https://woocommerce.com/document/woocommerce-rest-api/",className:"text-blue-600"},"Guide")," ","htmlFor how to generate consumer_key and consumer_secret")),(0,s.createElement)("div",{className:"mb-6"},(0,s.createElement)("label",{htmlFor:"consumer_key",className:"block mb-2 text-sm text-gray-900 font-semibold capitalize"},"consumer_key"),(0,s.createElement)("input",{type:"text",id:"consumer_key",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"consumer_key",value:n,onChange:e=>o(e.target.value),required:!0})),(0,s.createElement)("div",{className:"mb-6"},(0,s.createElement)("label",{htmlFor:"consumer_secret",className:"block mb-2 text-sm text-gray-900 font-semibold capitalize"},"consumer_secret"),(0,s.createElement)("input",{type:"text",id:"consumer_secret",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"consumer_secret",value:m,onChange:e=>u(e.target.value),required:!0})),b?(0,s.createElement)("div",{className:"mt-6"},(0,s.createElement)("span",{className:"text-red-600"},b)):null,g?(0,s.createElement)("div",{className:"mt-6"},(0,s.createElement)("span",{className:"text-green-600"},g)):null,(0,s.createElement)("button",{onClick:t=>{t.preventDefault(),d(!0),p(null),h(null);let s=new FormData;s.append("consumer_key",n||""),s.append("consumer_secret",m||""),fetch(`${e.apiURL}/wpt/v1/settings`,{method:"post",body:s}).then((e=>e.json())).then((e=>{if(500==e.status)throw e;a((0,r.zQ)(e.data)),h("Mission complete")})).catch((e=>{p(e.text)})).finally((()=>{d(!1)}))},type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"},"Submit")),i?(0,s.createElement)("div",{className:"absolute w-full h-full top-0 left-0 grid place-items-center bg-white/30"},(0,s.createElement)("span",{className:"block text-green-500 animate-spin"},(0,s.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",style:{fill:"currentcolor"}},(0,s.createElement)("path",{d:"M12 22c5.421 0 10-4.579 10-10h-2c0 4.337-3.663 8-8 8s-8-3.663-8-8c0-4.336 3.663-8 8-8V2C6.579 2 2 6.58 2 12c0 5.421 4.579 10 10 10z"})))):null)))}}}]);